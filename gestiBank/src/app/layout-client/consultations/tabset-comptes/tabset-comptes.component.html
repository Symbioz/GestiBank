<div class="card mb-3">
    <div class="card-body">
    	<!-- zone avec onglets -->
        <ngb-tabset>
        	<!-- premier onglet -->
            <ngb-tab>
                <ng-template ngbTabTitle>Liste des comptes</ng-template>
                <ng-template ngbTabContent>
                	<!-- Tableau contenant les comptes (Type / N° / Libellé / Solde / Relevé) -->
            		<div class="card-body table-responsive">
                	<!-- <table class="card-body table table-hover table-striped"> -->
	                <table class="card-body table table-hover table-sm">
	                    <thead>
	                    <!-- <br/> -->
		                    <!-- ligne de titres -->
		                    <tr>
		                        <th>Type de compte</th>
		                        <th>Numero de compte</th>
		                        <!-- <th>Libellé</th> -->
		                        <th>Solde</th>
		                        <!-- <th>Relevé</th> -->
		                    </tr>
	                    </thead>
	                    <tbody>
	                    	<!-- recupération de la liste des comptes -->
		                    <tr *ngFor="let compte of comptes">
		                    	<!-- scope : permet de mettre en 'surbrillance' la ligne consultée -->
		                        <td scope="row">{{ compte.type }}</td>
		                        <td>{{ compte.rib }}</td>
		                        <!-- <td></td> -->
		                        <td>{{ compte.solde }}</td>
		                        <!-- <td></td> -->
		                    </tr>
	                    </tbody>
	                </table>
	            	</div>
                </ng-template>
            </ngb-tab>
            <!-- deuxième onglet -->
            <ngb-tab>
                <ng-template ngbTabTitle>Details des opérations</ng-template>
                <ng-template ngbTabContent>
                    <!--  -->
					<div class="row">
						<div class="col-xl-8 form-group">
							<br/>
							<select class="form-control" [ngModel]="comptes" (ngModelChange)="selectCompte($event)">
						    	<!-- Affichage d'un message (ngvalue doit reprendre le ngmodel) -->
						    	<option [ngValue]="comptes" selected hidden>-- Selection du compte --</option>
						    	<!-- Affichage de la liste de compte (ngvalue prend un élt de la liste) -->
						    	<option *ngFor="let compte of comptes" [ngValue]="compte">{{ compte.type }}  | {{compte.rib}} </option>
						    </select>
					    </div>
					    <div class="col-xl-4 form-group">

						</div>
					</div>
				    <!-- Affichage des détails seulement si un compte a été sélectionné -->
				    <div *ngIf="(selectedCompte)" class="col-xl-12 form-group">
				    	<!-- séparateur de zone -->
						<hr/>
						<!-- Affichage des informations du compte sélectionné -->
				    	<h2>Compte n°{{selectedCompte.rib}} </h2>
				    	<p>Type : {{selectedCompte.type}}</p>
						<div class="row">
				            <div class="card-body">
				                <p>
				                    <button type="button" class="btn btn-outline-primary" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">
				                        Détails
				                    </button>
				                    <a data-toggle="collapse" href="#collapseExample" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">View more details</a>
				                </p>
				                <div id="collapseExample" [ngbCollapse]="isCollapsed">
				                    <div class="card-body">
			                            You can collapse this card by clicking Toggle
			                        </div>
				                </div>
				            </div>
						</div>
				    	<!-- Tableau contenant les operations liés au compte sélectionné -->
	            		<!-- <div class="card-body table-responsive"> -->
	                	<!-- <table class="card-body table table-hover table-striped"> -->
		                <table class="card-body table table-hover table-striped">
		                    <thead>
		                    <!-- <br/> -->
			                    <!-- ligne de titres -->
			                    <tr>
			                        <th>Date</th>
			                        <th>Libellé</th>
			                        <th>Débit</th>
			                        <th>Crédit</th>
			                    </tr>
		                    </thead>
		                    <tbody>
		                    	<!-- recupération de la liste des comptes -->
			                   	<tr *ngFor="let op of selectedCompte.historique">
			                   	<!-- scope : permet de mettre en 'surbrillance' la ligne consultée -->
			                       <td scope="row">{{ op.date }}</td>
			                       <td>{{ op.libelle }}</td>
			                       <td><span *ngIf="op.typeOp==0">-{{ op.montant }} €</span></td>
			                       <td><span *ngIf="op.typeOp==1">+{{ op.montant }} €</span></td>
			                    </tr>
		                    </tbody>
		                </table>
		            	
				    </div><!-- fin du ngIf -->
					    
                </ng-template>
            </ngb-tab>
            <!-- troisième onglet désactivé (future amélioration) -->
            <ngb-tab title="..." [disabled]="true">
                <ng-template ngbTabContent>
                    
				    
                </ng-template>
            </ngb-tab>
        </ngb-tabset>
    </div>
</div>
